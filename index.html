<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://xumjbn.github.io">
  <title>Xumjns&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Xumjns's Blog">
<meta property="og:url" content="http://xumjbn.github.io/index.html">
<meta property="og:site_name" content="Xumjns's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Xumjns's Blog">
  
    <link rel="alternative" href="/atom.xml" title="Xumjns&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.jpg">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/images/20130227.bmp" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Xumjns</a></h1>
		</hgroup>

		
		<p class="header-subtitle">生活不易，且行且珍惜</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/life">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="#" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Xumjns</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/images/20130227.bmp" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Xumjns</h1>
			</hgroup>
			
			<p class="header-subtitle">生活不易，且行且珍惜</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/tags/life">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-daylife1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/25/daylife1/">圣诞节的晚餐</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>一个人吃饭的尴尬就在于点一个菜太单调，点两个菜嫌多。</p>
<p>吃面吃粉总是主粮多菜少，面食也不符合我湖南的正餐习惯，来碗全素的麻辣烫吧，吃多了总觉得不健康，<br>再不就是套餐吧，中式快餐如真功夫之类，也总是肉类居多，蔬菜偏少，而且这类快餐店还要看地段，<br>不是哪里都有，西式快餐如肯德基、麦当劳，点多了你就知道，吃的真心想吐。再如日式套餐，也总是牛<br>肉饭、咖喱肌肉饭之类，想想真是够了。可能小区旁边最多是算是沙县小吃、福建馄饨、重庆鸡米饭，<br>再不就老鸭粉丝汤，崩溃！</p>
<p>其实我只是想吃点蔬菜之类，或者有一碟花生米，一杯酒而已！看样子单身想要吃的好，要么得有一帮吃<br>货朋友，要么自己做饭了。</p>
<p>圣诞大餐：青菜豆腐汤！<br><img src="/images/20161225-01.JPG" alt="“青菜豆腐汤”">  </p>
<p>2016 年 12月 25日 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/25/daylife1/" class="archive-article-date">
  	<time datetime="2016-12-25T11:18:08.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-25</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/blog/">blog</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-rpm-pkg" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/17/rpm-pkg/">如何构建自己的rpm包</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>标签： Linux centos7</p>
<hr>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>RPM is the RPM Package Manager. It is an open packaging system available for anyone to use. It allows users to take source code for new software and package it into source and binary form such that binaries can be easily installed and tracked and source can be rebuilt easily. It also maintains a database of all packages and their files that can be used for verifying packages and querying for information about files and/or packages.</p>
<h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>能够根据网上的教程构建自己的rpm软件包</p>
<h2 id="rpm包结构"><a href="#rpm包结构" class="headerlink" title="rpm包结构"></a>rpm包结构</h2><p>运行rpmdev-setuptree后，会在/home/rpm/rpmbuild/目录下面生成以下几个目录</p>
<ul>
<li>BUILD        源码解压编译目录</li>
<li>BUILDROOT    rpm包安装目录</li>
<li>RPMS         rpm包生成目录</li>
<li>SOURCES      源码压缩包存放目录  </li>
<li>SPECS        specs文件存放目录</li>
<li>SRPMS        源码rpm包生成目录</li>
</ul>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p> 1.安装rpmdevtools工具包<br> 2.获取源代码并打包成tar包<br> 3.运行rpmdev-newspec生成spec模板、<br> 4.根据自己需求修改spec文件<br> 5.运行rpmbuid命令生成rpm文件</p>
<h2 id="SPEC文件"><a href="#SPEC文件" class="headerlink" title="SPEC文件"></a>SPEC文件</h2><h3 id="header"><a href="#header" class="headerlink" title="header"></a>header</h3><h3 id="prep"><a href="#prep" class="headerlink" title="prep"></a>prep</h3><h3 id="build"><a href="#build" class="headerlink" title="build"></a>build</h3><h3 id="install"><a href="#install" class="headerlink" title="install"></a>install</h3><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>以编译打包haproxy为例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ls haproxy</div><div class="line">Makefile  patches  rpm  src</div></pre></td></tr></table></figure></p>
<p>patches存放quilt生成的补丁文件<br>rpm存放spec文件及makefile<br>src存放haproxy的源码</p>
<h3 id="顶层makefile"><a href="#顶层makefile" class="headerlink" title="顶层makefile"></a>顶层makefile</h3><figure class="highlight m"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">.PHONY: <span class="built_in">all</span> rpm clean</div><div class="line"></div><div class="line"><span class="built_in">all</span>:</div><div class="line">	make -C src/ TARGET<span class="built_in">=</span>linux2628</div><div class="line"></div><div class="line">rpm:</div><div class="line">	make -C rpm/</div><div class="line"></div><div class="line">clean:</div><div class="line">	make clean -C src/</div><div class="line">	make clean -C rpm/</div></pre></td></tr></table></figure>
<h3 id="rpm目录下makefile"><a href="#rpm目录下makefile" class="headerlink" title="rpm目录下makefile"></a>rpm目录下makefile</h3><figure class="highlight makefile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">NAME=haproxy-1.5.10</div><div class="line"></div><div class="line"><span class="meta"><span class="meta-keyword">.PHONY</span>: rpm dist clean</span></div><div class="line"></div><div class="line">rpm: dist</div><div class="line">	rpmbuild -bb --clean --rmsource $&#123;NAME&#125;.spec</div><div class="line"></div><div class="line">dist: clean</div><div class="line">	rpmdev-setuptree</div><div class="line">	tar -czf ./$&#123;NAME&#125;.tar.gz ../src/ ../patches</div><div class="line">	mv $&#123;NAME&#125;.tar.gz $&#123;HOME&#125;/rpmbuild/SOURCES/</div><div class="line">	</div><div class="line"><span class="section">clean:</span></div><div class="line">	rm -fr /home/rpm/rpmbuild/*</div></pre></td></tr></table></figure>
<h3 id="rpm目录下spec文件"><a href="#rpm目录下spec文件" class="headerlink" title="rpm目录下spec文件"></a>rpm目录下spec文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">%define debug_package %&#123;nil&#125;</div><div class="line"></div><div class="line">Name:		haproxy</div><div class="line">Version:    1.5.10</div><div class="line">Release:    1</div><div class="line">Summary: 	A program that used for high preformance proxy       </div><div class="line">Group:		redhat</div><div class="line">Buildarch:	x86_64</div><div class="line">Buildroot:	%&#123;buildroot&#125;</div><div class="line">License:	GPL</div><div class="line">URL:        http://www.haproxy.org</div><div class="line">Source0:    haproxy-1.5.10.tar.gz</div><div class="line"></div><div class="line">%description</div><div class="line">haproxy-1.5.10</div><div class="line"></div><div class="line">%prep</div><div class="line">mkdir %&#123;_builddir&#125;/%&#123;name&#125;-%&#123;version&#125;</div><div class="line">tar -xf %&#123;SOURCE0&#125; -C %&#123;_builddir&#125;/%&#123;name&#125;-%&#123;version&#125;</div><div class="line">[[ -z $(&lt;.%&#123;name&#125;-%&#123;version&#125;/patches/series) ]] || quilt push -a</div><div class="line"></div><div class="line">%build</div><div class="line">cd %&#123;_builddir&#125;/%&#123;name&#125;-%&#123;version&#125;/src/</div><div class="line">make TARGET=linux2628</div><div class="line"></div><div class="line">%install</div><div class="line">cd %&#123;_builddir&#125;/%&#123;name&#125;-%&#123;version&#125;/src/</div><div class="line">make DESTDIR=%&#123;buildroot&#125;/src install</div><div class="line"></div><div class="line"></div><div class="line">%clean</div><div class="line">rm -rf $RPM_BUILD_ROOT</div><div class="line"></div><div class="line">%files</div><div class="line">%defattr(-,root,root)</div><div class="line">/*</div></pre></td></tr></table></figure>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/17/rpm-pkg/" class="archive-article-date">
  	<time datetime="2016-12-17T14:08:13.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-17</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ops-linux-centos7/">ops linux centos7</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/ops-linux/">ops linux</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-trac-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/17/trac-install/">trac-1.2 install in centos7</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="trac简介"><a href="#trac简介" class="headerlink" title="trac简介"></a>trac简介</h2><pre><code>trac是用python编写的用来做项目及bug跟踪的项目管理软件，使用简单
</code></pre><h2 id="trac安装"><a href="#trac安装" class="headerlink" title="trac安装"></a>trac安装</h2><h2 id="trac设置"><a href="#trac设置" class="headerlink" title="trac设置"></a>trac设置</h2><h2 id="相关插件"><a href="#相关插件" class="headerlink" title="相关插件"></a>相关插件</h2>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/17/trac-install/" class="archive-article-date">
  	<time datetime="2016-12-17T13:42:31.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-17</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ops-linux-centos7/">ops linux centos7</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/ops-linux/">ops linux</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-daylife0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/04/daylife0/">日常小记一</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>平日里属最平淡无奇的日子居多，特别是上班以后，岁月不经意间便已流逝。过去的事情又能记得多少，又还记得多少？多数时候只是过了一天罢了，好多时候想写点什么，记点什么，开始是写日记，只是这种方式太过耗时，而且需要非常有耐心，习惯了用电脑，也难静心在纸上记。</p>
<p>不太想用公共现成的博客，虽然方便，但始终不喜欢其风格，最后还是自己搭建一个，即使是这样，到现在搭建完成到现在，半月有余，这才算是我的第一篇博客。我的目的也很简单，就是想记点什么，待到以后能帮我回忆点什么，毕竟我是个健忘的人。</p>
<p>在雾霾天和股市极速回落中开始了这一周，在公司上午的时光总是过的最快的，有开不完的会和讨论不完的需求场景，真正工作的时间都是从下午开始。领导给安排的某些事情实在是无聊，咬牙坚持下来，其实发现就是十分钟的事情而已，多了解些其他的也不算是坏事情，虽然我依然觉得没什么卵用。</p>
<p>最近老板倒是经常提醒自己要多注意身体，还问我现在还锻炼否，也不知道哪里不对路，晚上一起吃饭，知道他有结石，才想起上周他说自己现在一身毛病，要我们都注意身体之类的话了。</p>
<p>晚上一直到九点多才离开公司，看的书越杂，发现想看的书就越多，不过今晚倒不是因为看书，份内事情而已。好久没有加班过了，晚上出来路上行人已不多，风吹落了一地黄色，每到这时，便是上海的真正的冬天开始了，直到路旁银杏树的叶子全部掉落，才意味着冬天已临近结束。看过了这四季变化的银杏，也早已习惯一个人的午后，最终也只是默然。</p>
<p><img src="/images/20161203.JPG" alt="“周末午后”">  </p>
<p>2016 年 12月 05日    </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/04/daylife0/" class="archive-article-date">
  	<time datetime="2016-12-03T19:15:59.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-04</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/">life</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/blog/">blog</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Xumjns
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/ops-linux-centos7/" style="font-size: 10px;">ops linux centos7</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https:www.google.com/">google</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">90后 程序员 &lt;br&gt;&lt;br&gt; IT 网络安全 单身狗</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>